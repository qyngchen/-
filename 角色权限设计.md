#角色菜单设计
---
##数据库表设计
- **资源**  

字段|类型|别名
-|-|-
业务id|UUID|id
资源id|String|resource_id
父资源id|String|parent_id
资源名字|String|resource_name
资源连接|String|resource_url
资源类型|enum|resource_type
创建时间|String|create_at
更新时间|String|update_at
拓展字段1|String|ex_str_1
拓展字段2|String|ex_str_2
拓展字段3|String|ex_str_3
拓展字段4|String|ex_str_4
拓展字段5|String|ex_str_5
- **角色**

字段|类型|别名
-|-|-
业务id|UUID|id
角色id|String|role_id
角色名称|String|role_name
所属租户id|String|tenant_id
创建时间|String|create_at
更新时间|String|update_at
拓展字段1|String|ex_str_1
拓展字段2|String|ex_str_2
拓展字段3|String|ex_str_3
拓展字段4|String|ex_str_4
拓展字段5|String|ex_str_5
- **用户**

字段|类型|别名
-|-|-
业务id|UUID|id
用户id|String|user_id
用户账号|String|user_name
用户密码|String|password
所属租户id|String|tenant_id
创建时间|String|create_at
更新时间|String|update_at
拓展字段1|String|ex_str_1
拓展字段2|String|ex_str_2
拓展字段3|String|ex_str_3
拓展字段4|String|ex_str_4
拓展字段5|String|ex_str_5
- **系统权限**

字段|类型|别名
-|-|-
业务id|UUID|id
权限id|String|power_id
权限名字|String|power_name
权限资源|String|power_resource
创建时间|String|create_at
更新时间|String|update_at
拓展字段1|String|ex_str_1
拓展字段2|String|ex_str_2
拓展字段3|String|ex_str_3
拓展字段4|String|ex_str_4
拓展字段5|String|ex_str_5
- **角色_资源**

字段|类型|别名
-|-|-
业务id|UUID|id
角色id|String|role_id
资源id|String|menu_id
所属租户id|String|tenant_id
创建时间|String|create_at
更新时间|String|update_at
拓展字段1|String|ex_str_1
拓展字段2|String|ex_str_2
拓展字段3|String|ex_str_3
拓展字段4|String|ex_str_4
拓展字段5|String|ex_str_5
- **用户_角色**

字段|类型|别名
-|-|-
业务id|UUID|id
用户id|String|user_id
角色id|String|role_id
所属租户id|String|tenant_id
创建时间|String|create_at
更新时间|String|update_at
拓展字段1|String|ex_str_1
拓展字段2|String|ex_str_2
拓展字段3|String|ex_str_3
拓展字段4|String|ex_str_4
拓展字段5|String|ex_str_5
- **角色_系统权限**

字段|类型|别名
-|-|-
业务id|UUID|id
角色id|String|role_id
系统权限id|String|power_id
权限资源限制|String|power_limit
创建时间|String|create_at
更新时间|String|update_at
拓展字段1|String|ex_str_1
拓展字段2|String|ex_str_2
拓展字段3|String|ex_str_3
拓展字段4|String|ex_str_4
拓展字段5|String|ex_str_5

- **访客填写预约单连接**

业务id|UUID|id
访客预约单id|String|visitor_id
预约单url|String|reservation_url
开始时间|String|begin_time
结束时间|String|end_time
访问次数|String|access_num
创建时间|String|create_at
更新时间|String|update_at
拓展字段1|String|ex_str_1
拓展字段2|String|ex_str_2
拓展字段3|String|ex_str_3
拓展字段4|String|ex_str_4
拓展字段5|String|ex_str_5


---
##流程
1. 请求auth服务获取auth_token
2. 将用户角色塞入access_token
3. 页面请求后端携带token，拦截器做token验证判断token是否失效（接口修改，添加access_token参数）
4. 通过token获取用户角色，通过角色获取相应资源
##访客邀约
1. 员工填写相关信息
2. 发送邀约邮件到访客（邮件含有URL，带参跳转，连接时效性，连接超时信息未完善设置访客超时,）
3. 访客相关信息完善
4. 邮件通知员工，访客同意邀约

##菜单树资源——角色自定义